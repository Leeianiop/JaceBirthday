<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Birthday Stair Builder (GitHub Pages)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #dff3ff;
      --ground: #8B4513;
      --block: #6f3d12;
      --text: #2b1b7a;
      --bar-bg: #efefef;
      --bar-fill: #2d9cdb;
    }
    html,body { height:100%; margin:0; font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background: var(--bg); }
    #wrap { width:100%; height:100%; display:flex; align-items:center; justify-content:center; }
    canvas { background: linear-gradient(#dff3ff,#bfefff); display:block; border-radius:8px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); }
    #hud { position: absolute; top: 16px; left: 50%; transform: translateX(-50%); text-align:center; pointer-events:none; }
    #title { font-weight:900; color:var(--text); letter-spacing:1px; text-shadow: 2px 2px 0 rgba(0,0,0,0.12); pointer-events:auto; }
    #countdown { margin-top:6px; font-weight:700; background: rgba(255,255,255,0.85); padding:6px 14px; border-radius:12px; box-shadow: 0 4px 8px rgba(0,0,0,0.08); pointer-events:none;}
    #instructions { position: absolute; left:16px; bottom:16px; background:rgba(255,255,255,0.8); padding:8px 12px; border-radius:8px; font-size:14px; }
  </style>
</head>
<body>
  <div id="wrap">
    <canvas id="game"></canvas>
  </div>

  <div id="hud" aria-hidden="true">
    <div id="title" style="font-size: clamp(18px, 3.2vw, 34px);">Happy 46th birthday daddy</div>
    <div id="countdown" style="font-size: clamp(12px, 1.6vw, 18px);">--d --:--:--</div>
  </div>

  <div id="instructions">Arrows = move • Space = jump • Touch the title to toggle text & spawn a stair (must step off and touch again)</div>

<script>
/* -----------------------------
   Birthday Stair Builder (HTML)
   - Drop right1.png,right2.png,left1.png,left2.png next to this file
   - Works with or without images (fallback shapes)
   ----------------------------- */

const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');

function resizeCanvas() {
  // keep aspect ratio and fit to window
  const maxW = Math.min(window.innerWidth - 40, 1100);
  const maxH = Math.min(window.innerHeight - 120, 700);
  const ratio = 4/3;
  let w = maxW, h = Math.round(w / ratio);
  if (h > maxH) { h = maxH; w = Math.round(h * ratio); }
  canvas.width = w; canvas.height = h;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

/* ---------- Game constants ---------- */
const W = () => canvas.width;
const H = () => canvas.height;
const GROUND_H = Math.round( H() * 0.12 ); // brown ground height

/* ---------- Load optional images (2 frames per direction) ---------- */
function tryLoad(src) {
  return new Promise((resolve) => {
    const img = new Image();
    img.onload = () => resolve(img);
    img.onerror = () => resolve(null);
    img.src = src;
  });
}

let frames = { right: [null, null], left: [null, null] };

(async function loadImgs() {
  frames.right[0] = await tryLoad('right 1.png');
  frames.right[1] = await tryLoad('right 2.png');
  frames.left[0]  = await tryLoad('left 1.png');
  frames.left[1]  = await tryLoad('left 2.png');
})();

/* ---------- Player physics ---------- */
const player = {
  x: 80,
  y: 0, // will set to ground later
  w: 48,
  h: 64,
  vx: 0,
  vy: 0,
  speed: 3.4,
  jumpPower: -12,
  grounded: false,
  dir: 'right',
  animIndex: 0,
  animTimer: 0, // ms
  animDelay: 160 // ms between frames
};

function placePlayerOnGround() {
  player.y = H() - GROUND_H - player.h;
}
placePlayerOnGround();
window.addEventListener('resize', placePlayerOnGround);

/* ---------- Blocks/stairs (permanent) ---------- */
let blocks = [];
// initial demo blocks (diagonal)
for (let i=0;i<3;i++){
  const bx = 140 + i*72;
  const by = H() - GROUND_H - 22 - i*34;
  bloc


